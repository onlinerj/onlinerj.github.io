<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The "Slowest Client" Problem: Adaptive Compression for Decentralized AI | Rajat Jaiswal</title>
    <meta name="description" content="How adaptive lossy compression is rescuing Federated Learning from the communication bottleneck â€” reducing data transmission by up to 89% while preserving model accuracy.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,500;12..96,600;12..96,700&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #fafafa;
            --bg-card: #ffffff;
            --bg-tertiary: #f5f5f5;
            --text: #171717;
            --text-muted: #525252;
            --accent: #10a37f;
            --accent-hover: #0d8a6a;
            --accent-light: rgba(16, 163, 127, 0.1);
            --border: #e5e5e5;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.06);
            --transition: 0.2s ease;
            --radius: 8px;
            --radius-lg: 16px;
            --warning-bg: #fffbeb;
            --warning-border: #f59e0b;
            --warning-text: #92400e;
        }

        [data-theme="dark"] {
            --bg: #0a0a0a;
            --bg-card: #171717;
            --bg-tertiary: #1a1a1a;
            --text: #fafafa;
            --text-muted: #a3a3a3;
            --accent: #10a37f;
            --accent-hover: #1db990;
            --accent-light: rgba(16, 163, 127, 0.15);
            --border: #262626;
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.2);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.3);
            --warning-bg: rgba(245, 158, 11, 0.1);
            --warning-border: #f59e0b;
            --warning-text: #fbbf24;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.8;
            font-weight: 400;
            min-height: 100vh;
        }

        .container {
            max-width: 720px;
            margin: 0 auto;
            padding: 80px 24px;
        }

        /* Header */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 14px;
            margin-bottom: 48px;
            transition: all var(--transition);
        }
        .back-link:hover { color: var(--accent); }
        .back-link svg { width: 18px; height: 18px; }

        .header-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .theme-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 1px solid var(--border);
            background: var(--bg-card);
            color: var(--text-muted);
            cursor: pointer;
            transition: all var(--transition);
        }
        .theme-toggle:hover { color: var(--accent); border-color: var(--accent); }
        .theme-toggle svg { width: 20px; height: 20px; }
        .theme-toggle .sun-icon { display: block; }
        .theme-toggle .moon-icon { display: none; }
        [data-theme="dark"] .theme-toggle .sun-icon { display: none; }
        [data-theme="dark"] .theme-toggle .moon-icon { display: block; }

        .article-meta { margin-bottom: 32px; }
        .article-meta .category {
            font-size: 12px;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 600;
        }
        .article-meta .date {
            font-size: 14px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        h1 {
            font-family: 'Bricolage Grotesque', Georgia, serif;
            font-size: clamp(2rem, 6vw, 2.75rem);
            font-weight: 700;
            line-height: 1.15;
            margin-bottom: 24px;
            color: var(--text);
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
            font-weight: 300;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .tag-row {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 48px;
        }
        .tag {
            font-size: 12px;
            padding: 6px 12px;
            background: var(--accent-light);
            border-radius: 100px;
            color: var(--accent);
            font-weight: 500;
        }

        /* Article Content */
        article {
            border-top: 1px solid var(--border);
            padding-top: 48px;
        }

        article h2 {
            font-family: 'Bricolage Grotesque', Georgia, serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 56px;
            margin-bottom: 20px;
            color: var(--text);
        }

        article h3 {
            font-size: 1.15rem;
            font-weight: 600;
            margin-top: 36px;
            margin-bottom: 16px;
            color: var(--text);
        }

        article p {
            color: var(--text-muted);
            margin-bottom: 20px;
            font-size: 16px;
        }

        article strong { color: var(--text); font-weight: 600; }

        article ul, article ol {
            color: var(--text-muted);
            margin-bottom: 20px;
            padding-left: 24px;
        }
        article li { margin-bottom: 12px; font-size: 16px; }

        /* Blockquote */
        .blockquote {
            border-left: 3px solid var(--accent);
            padding: 20px 24px;
            margin: 32px 0;
            background: var(--bg-tertiary);
            border-radius: 0 var(--radius) var(--radius) 0;
        }
        .blockquote p {
            font-size: 17px;
            font-style: italic;
            color: var(--text);
            margin-bottom: 0;
            line-height: 1.7;
        }

        /* Highlight Box */
        .highlight-box {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-left: 3px solid var(--accent);
            padding: 24px;
            border-radius: var(--radius);
            margin: 32px 0;
            box-shadow: var(--shadow-sm);
        }
        .highlight-box p { margin-bottom: 0; font-size: 15px; }

        /* Warning / Pro-Tip Box */
        .pro-tip-box {
            background: var(--warning-bg);
            border: 1px solid var(--warning-border);
            border-radius: var(--radius-lg);
            padding: 24px 28px;
            margin: 36px 0;
        }
        .pro-tip-box .pro-tip-label {
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--warning-border);
            margin-bottom: 8px;
        }
        .pro-tip-box p {
            font-size: 15px;
            color: var(--warning-text);
            margin-bottom: 0;
            line-height: 1.7;
        }
        [data-theme="dark"] .pro-tip-box p { color: var(--warning-text); }

        /* Math Block */
        .math-block {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 24px 28px;
            margin: 28px 0;
            text-align: center;
            font-family: 'JetBrains Mono', 'Georgia', serif;
            font-size: 15px;
            color: var(--text);
            overflow-x: auto;
            line-height: 2;
        }
        .math-block .math-label {
            display: block;
            font-family: 'DM Sans', sans-serif;
            font-size: 12px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
        }

        /* Stat Cards */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 32px 0;
        }
        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
            text-align: center;
            box-shadow: var(--shadow-sm);
        }
        .stat-card .number {
            font-family: 'Bricolage Grotesque', Georgia, serif;
            font-size: 2.5rem;
            color: var(--accent);
            line-height: 1;
            font-weight: 600;
        }
        .stat-card .label {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 8px;
        }

        /* Distortion Regions */
        .region-list {
            list-style: none;
            padding: 0;
            margin: 28px 0;
        }
        .region-list li {
            display: flex;
            gap: 16px;
            padding: 18px 20px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            margin-bottom: 10px;
            background: var(--bg-card);
            align-items: flex-start;
        }
        .region-indicator {
            flex-shrink: 0;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-top: 6px;
        }
        .region-indicator.safe { background: #22c55e; }
        .region-indicator.mid { background: #3b82f6; }
        .region-indicator.high { background: #f59e0b; }
        .region-indicator.unsafe { background: #ef4444; }
        .region-content { flex: 1; }
        .region-content strong {
            display: block;
            font-size: 15px;
            margin-bottom: 4px;
        }
        .region-content span {
            font-size: 14px;
            color: var(--text-muted);
            line-height: 1.5;
        }
        .region-content code {
            font-family: 'JetBrains Mono', monospace;
            background: var(--accent-light);
            padding: 1px 6px;
            border-radius: 4px;
            font-size: 13px;
            color: var(--accent);
        }

        /* Results Table */
        .results-table-wrapper {
            overflow-x: auto;
            margin: 28px 0;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
        }
        .results-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        .results-table thead {
            background: var(--bg-tertiary);
        }
        .results-table th {
            padding: 14px 18px;
            text-align: left;
            font-weight: 600;
            font-size: 13px;
            color: var(--text);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid var(--border);
        }
        .results-table td {
            padding: 14px 18px;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border);
        }
        .results-table tbody tr:last-child td { border-bottom: none; }
        .results-table tbody tr:hover { background: var(--bg-tertiary); }
        .results-table .highlight-cell {
            color: var(--accent);
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
        }
        .results-table .footnote-cell {
            font-size: 12px;
            color: var(--text-muted);
            font-style: italic;
            padding: 10px 18px;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            background: var(--accent-light);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 14px;
            color: var(--accent);
        }

        /* Separator */
        .section-divider {
            width: 48px;
            height: 2px;
            background: var(--accent);
            margin: 56px 0 48px;
            border-radius: 2px;
        }

        /* Footer */
        footer {
            margin-top: 80px;
            padding-top: 32px;
            border-top: 1px solid var(--border);
            text-align: center;
        }
        footer p { font-size: 14px; color: var(--text-muted); }

        /* Responsive */
        @media (max-width: 600px) {
            .container { padding: 48px 20px; }
            .stat-grid { grid-template-columns: 1fr; }
            .region-list li { flex-direction: column; gap: 8px; }
            .region-indicator { margin-top: 0; }
            .results-table { font-size: 13px; }
            .results-table th, .results-table td { padding: 10px 12px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-nav">
            <a href="../blog.html" class="back-link">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"></path><path d="M12 19l-7-7 7-7"></path></svg>
                Back to Blog
            </a>
            <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark/light mode">
                <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
                <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
            </button>
        </div>

        <div class="article-meta">
            <span class="category">Federated Learning &middot; Research</span>
            <p class="date">January 2026</p>
        </div>

        <h1>The "Slowest Client" Problem: How Adaptive Compression is Rescuing Decentralized AI</h1>

        <p class="subtitle">In the high-stakes world of Federated Learning, the dream is a global intelligence that learns from a decentralized fleet of devices. But this dream frequently hits a concrete wall: the network.</p>

        <div class="tag-row">
            <span class="tag">Federated Learning</span>
            <span class="tag">Lossy Compression</span>
            <span class="tag">Distributed Systems</span>
            <span class="tag">Privacy-Preserving AI</span>
            <span class="tag">Green AI</span>
        </div>

        <article>

            <!-- Section 1: The Problem -->
            <p>Imagine an autonomous vehicle navigating a city, its sensors generating gigabytes of localized training data. To update the global model, the car must transmit a <strong>10GB update</strong>. On a standard 10MB/s wireless link, the car's processors effectively sit idling for <strong>1.5 hours</strong> while the network chokes on the payload. During this time, the entire training cycle stalls, waiting for that one vehicle to finish its "uploading..." progress bar.</p>

            <div class="blockquote">
                <p>"The bottleneck in FL systems inevitably comes down to the slowest client, limiting overall system scalability."</p>
            </div>

            <p>To scale AI across millions of edge devices&mdash;autonomous vehicles, smartphones, hospital servers&mdash;we cannot simply build bigger pipes. We have to make the updates <strong>smaller</strong>. However, as it turns out, the way we've been shrinking them is remarkably&mdash;and wastefully&mdash;static.</p>

            <!-- Section 2: Why Good Enough is Not Good Enough -->
            <h2>Why "Good Enough" Compression is Holding Us Back</h2>

            <p>To combat the bandwidth crisis, researchers have historically turned to <strong>Error-Bounded Lossy Compressors (EBLCs)</strong> like SZ2 or ZFP. These algorithms are the "JPEG for numbers," allowing us to discard high-frequency noise in model weights to achieve high compression ratios. The industry standard has largely settled on a "fixed" relative error bound of <code>10&minus;2</code>.</p>

            <p>But a fixed bound is a blunt instrument. It assumes every training round and every device is equally sensitive to noise. In reality, a model might be incredibly robust in its early "learning" phase but become fragile as it nears convergence. Using a static bound means we are either <strong>wasting precious bandwidth</strong> by being too precise or, worse, causing the global model to <strong>"collapse"</strong> by being too sloppy.</p>

            <div class="highlight-box">
                <p>The realization is counter-intuitive: <strong>"good enough" compression is actually the enemy of optimal performance.</strong></p>
            </div>

            <!-- Section 3: Distortion as a Health Signal -->
            <h2>Distortion: The "Pulse" of Model Health</h2>

            <p>The breakthrough involves moving away from abstract error bounds toward a real-time monitor: <strong>Mean Squared Error (MSE) distortion</strong>. Think of distortion (D<sub>MSE</sub>) as the model's pulse. By measuring the variance between the original parameters <strong>W</strong> and the compressed version <strong>W&#771;</strong>, we can calculate a "health signal" without ever needing to look at the underlying private data.</p>

            <p>This is where the math gets elegant. By utilizing the <strong>Lipschitz continuity</strong> of the loss function, we can theoretically bound the change in model accuracy based purely on distortion:</p>

            <div class="math-block">
                <span class="math-label">Lipschitz Distortion Bound</span>
                |L(W) &minus; L(W&#771;)| &le; L<sub>P</sub> &middot; &radic;D<sub>MSE</sub>
            </div>

            <p>This inequality is a game-changer for privacy. It provides a <strong>mathematical guarantee</strong> that the model's loss won't deviate beyond a specific range, allowing the server to monitor model stability using only the distortion metric&mdash;keeping the training process safe and the raw data secret.</p>

            <div class="pro-tip-box">
                <div class="pro-tip-label">Pro Tip: The BatchNorm Trap</div>
                <p>Why focus on relative error? It's usually better, but it has a "blind spot." In layers like BatchNorm, parameters (gamma and beta) are often so tiny that even a "safe" relative error can cause the absolute MSE to explode. The smartest adaptive systems often <strong>skip compressing these layers entirely</strong>, as the bandwidth gains are minimal but the potential for signal noise is massive.</p>
            </div>

            <!-- Section 4: Distortion Regions -->
            <h2>Mapping the "Safe" and "Unsafe" Zones of AI Learning</h2>

            <p>By analyzing thousands of training rounds, researchers have mapped the <strong>Operational Distortion Regions</strong>. This map tells the system exactly how much "noise" it can tolerate before the model's intelligence starts to evaporate:</p>

            <ul class="region-list">
                <li>
                    <span class="region-indicator safe"></span>
                    <div class="region-content">
                        <strong>Safe Region <code>D<sub>MSE</sub> &lt; 10&minus;5</code></strong>
                        <span>High fidelity. The model is virtually indistinguishable from uncompressed training, but communication savings are modest.</span>
                    </div>
                </li>
                <li>
                    <span class="region-indicator mid"></span>
                    <div class="region-content">
                        <strong>Mid-Transition Region <code>10&minus;5 &le; D<sub>MSE</sub> &lt; 3&times;10&minus;4</code></strong>
                        <span>The efficiency "sweet spot." Moderate distortion allows for significant bandwidth savings with negligible impact on accuracy.</span>
                    </div>
                </li>
                <li>
                    <span class="region-indicator high"></span>
                    <div class="region-content">
                        <strong>High-Transition Region <code>3&times;10&minus;4 &le; D<sub>MSE</sub> &lt; 10&minus;3</code></strong>
                        <span>The yellow light. Accuracy begins to degrade noticeably; the system is on the edge of instability.</span>
                    </div>
                </li>
                <li>
                    <span class="region-indicator unsafe"></span>
                    <div class="region-content">
                        <strong>Unsafe Region <code>D<sub>MSE</sub> &ge; 10&minus;3</code></strong>
                        <span>The danger zone. High probability of model collapse.</span>
                    </div>
                </li>
            </ul>

            <!-- Section 5: Alpha Factor -->
            <h2>The Speedometer: Using the &alpha; Factor</h2>

            <p>If the Distortion Regions provide the <strong>map</strong>, the Adaptive Scaling Factor (<strong>&alpha;</strong>) is the <strong>speedometer</strong>. In this adaptive control loop, &alpha; acts like a thermostat, cooling down compression when the model is sensitive and ramping it up when it's stable.</p>

            <p>The core of the "aha!" moment lies in how &alpha; is calculated. It is essentially a <strong>Sensitivity Score</strong>: a ratio of accuracy change to tolerance change.</p>

            <div class="math-block">
                <span class="math-label">Adaptive Scaling Factor (Equation 4)</span>
                &alpha;<sub>k</sub><sup>(t)</sup> = 1 &minus; S<sub>&alpha;</sub> &middot; ( |&Delta;Accuracy| / |&Delta;Tolerance| )
            </div>

            <p>If a tiny change in compression tolerance leads to a <strong>massive drop in accuracy</strong>, the system "panics," &alpha; plummets, and the client tightens its error bounds. If the model is robust (high &alpha;), the system realizes it can afford to be "sloppy" and increases compression to save data.</p>

            <p><strong>Algorithm 1</strong> provides the final touch of logic: in the <strong>Unsafe Region</strong>, the system prioritizes model survival over bandwidth by ignoring &alpha; and performing an emergency tightening of the error bounds (reducing the tolerance to increase data precision). In the <strong>Mid-Transition</strong>, it uses &alpha; to delicately navigate the trade-offs, ensuring the system stays efficient without crossing the line.</p>

            <div class="section-divider"></div>

            <!-- Section 6: Results -->
            <h2>Massive Gains Across the Board</h2>

            <p>The shift from static to adaptive compression isn't just a marginal improvement&mdash;it's a <strong>leap in efficiency</strong>. By dynamically shifting client updates into the optimal distortion regions, the researchers achieved staggering reductions in transmitted data.</p>

            <div class="stat-grid">
                <div class="stat-card">
                    <div class="number">89%</div>
                    <div class="label">Max reduction (Shakespeare LSTM)</div>
                </div>
                <div class="stat-card">
                    <div class="number">67%</div>
                    <div class="label">Max reduction on CNNs</div>
                </div>
                <div class="stat-card">
                    <div class="number">19%</div>
                    <div class="label">Reduction on Vision Transformers</div>
                </div>
            </div>

            <div class="results-table-wrapper">
                <table class="results-table">
                    <thead>
                        <tr>
                            <th>Model Category</th>
                            <th>Architectures</th>
                            <th>Reduction vs. Static 10&minus;2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Simple CNNs</strong></td>
                            <td>MNIST, CIFAR-10, Caltech-101</td>
                            <td class="highlight-cell">20% &ndash; 67%</td>
                        </tr>
                        <tr>
                            <td><strong>Complex CNNs</strong></td>
                            <td>ResNet50, AlexNet, MobileNetV2</td>
                            <td class="highlight-cell">12% &ndash; 20%</td>
                        </tr>
                        <tr>
                            <td><strong>Vision Transformers</strong></td>
                            <td>Swin Transformer (FMNIST / CIFAR-10)</td>
                            <td class="highlight-cell">12% &ndash; 19%</td>
                        </tr>
                        <tr>
                            <td><strong>Language Models</strong></td>
                            <td>LSTM (Shakespeare / Sentiment140)</td>
                            <td class="highlight-cell">15.8% &ndash; 89.2%*</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="3" class="footnote-cell">*89.28% reduction achieved for the Shakespeare dataset compared to the uncompressed baseline.</td>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <p>Crucially, these gains were <strong>consistent across both Image and Language domains</strong>. Whether the model was trying to recognize a handwritten digit or predict the next word in a sonnet, the adaptive logic held true. <strong>Bayesian Optimization (BO)</strong> further refined these results, outperforming hand-tuned settings to find the "perfect" compression rhythm for each specific architecture.</p>

            <div class="section-divider"></div>

            <!-- Section 7: Conclusion -->
            <h2>Toward a More Fluid Federated Future</h2>

            <p>Moving from static to adaptive compression changes the fundamental landscape of decentralized training. We are moving away from rigid, "good enough" thresholds toward a system that <strong>breathes with the model</strong>, adjusting its communication needs in real-time based on mathematical distortion.</p>

            <p>This evolution brings us to a compelling crossroads for the future of <strong>"Green AI."</strong> As we struggle with the energy costs of massive data centers and global networks, perhaps the solution isn't just faster hardware or bigger pipes. Perhaps the future of scalable, sustainable AI lies in these <strong>smarter, lossy communication protocols</strong>&mdash;systems that know exactly when to be precise and, more importantly, when they can afford to be quiet.</p>

            <div class="blockquote">
                <p>By learning to navigate the distortion zones, we've proven that accuracy doesn't have to be sacrificed for speed. The "slowest client" may still exist, but we've finally given them a way to keep up with the pack.</p>
            </div>

            <div class="highlight-box">
                <p><strong>Note:</strong> This research is currently under peer review. Stay tuned for the full publication details.</p>
            </div>
        </article>

        <footer>
            <p>&copy; <span id="year"></span> Rajat Jaiswal</p>
        </footer>
    </div>

    <script>
        document.getElementById('year').textContent = new Date().getFullYear();

        // Theme Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') htmlElement.setAttribute('data-theme', 'dark');
        themeToggle.addEventListener('click', () => {
            const currentTheme = htmlElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            htmlElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });
    </script>
</body>
</html>
